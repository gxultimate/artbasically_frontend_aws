{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alqui\\\\Desktop\\\\Art Basically AWS\\\\artfrontend\\\\src\\\\components\\\\AddToBag.js\";\nimport { MDBBtn, MDBModal, MDBModalBody, MDBModalHeader } from 'mdbreact';\nimport { inject, observer } from 'mobx-react';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Cart from './Cart';\nimport notify from '../components/Notif';\nimport moment from 'moment';\n\nclass AddToBag extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      modal1: false,\n      selected: [],\n      selectedCheckBox: []\n    };\n\n    this.toggle = () => {\n      let nr = 1;\n      let modalNumber = 'modal' + nr;\n      this.setState({\n        [modalNumber]: !this.state[modalNumber]\n      });\n    };\n\n    this.addTocart = () => {\n      let {\n        startingStore: {\n          cart,\n          addToCart\n        }\n      } = this.props;\n      let userData = JSON.parse(sessionStorage.getItem('userData'));\n      cart.setProperty('artistName', this.props.cartData.artistName);\n      cart.setProperty('artworkName', this.props.cartData.artName);\n      cart.setProperty('artworkImg', this.props.cartData.artworkImg);\n      cart.setProperty('artworkPrice', this.props.cartData.artPrice);\n      cart.setProperty('artworkPaymentAmount', parseFloat(this.props.cartData.artPrice) * parseFloat(cart.artworkQuantity));\n      cart.setProperty('accID', userData.accID);\n      cart.setProperty('dateOfTransaction', moment().format('MMM/DD/YYYY'));\n\n      if (cart.artworkQuantity !== '' || cart.artworkQuantity !== null) {\n        notify('success', 'Artwork added successfully');\n        addToCart();\n      } else {\n        notify('error', 'Unsuccessful adding artwork'); // ari di butang ang alert!!!!!!!!!!!!!!!!!!!!!!\n      }\n    };\n\n    this.selectedValue = (index, checked, item) => {\n      if (checked === true) {\n        this.state.selected.push(item);\n        this.state.selectedCheckBox.push(index);\n      } else {\n        let selectedArray = [];\n        let selectedCheck = []; // let data = this.state.selected.filter((data, indexer) => {\n        // \tif (indexer !== index) {\n        // \t\tselectedArray.push(data);\n        // \t}\n        // });\n        // let indexes = this.state.selectedCheckBox.filter((data, indexer) => {\n        // \tif (indexer !== index) {\n        // \t\tselectedCheck.push(data);\n        // \t}\n        // });\n\n        this.setState({\n          selected: selectedArray,\n          selectedCheckBox: selectedCheck\n        });\n      }\n    };\n\n    this.deleteItem = item => {\n      let {\n        startingStore: {\n          editToCart\n        }\n      } = this.props;\n      editToCart(item);\n    };\n\n    this.addOrder = () => {\n      let {\n        startingStore: {\n          order,\n          addOrder\n        }\n      } = this.props;\n      let userData = JSON.parse(sessionStorage.getItem('userData'));\n\n      function getHash(input) {\n        var hash = 0,\n            len = input.length;\n\n        for (var i = 0; i < len; i++) {\n          hash = (hash << 5) - hash + input.charCodeAt(i);\n          hash |= 0; // to 32bit integer\n        }\n\n        return hash;\n      }\n\n      let date = new Date();\n      order.setProperty('orderID', `${getHash(date.getFullYear())}-${Math.floor(1000 + Math.random() * 9000)}`);\n      order.setProperty('modeOfPayment', 'COD');\n      order.setProperty('orderDate', moment().format('MMM/DD/YYYY'));\n      order.setProperty('orderItems', this.state.selected);\n      order.setProperty('orderStatus', 'Pending');\n      order.setProperty('paymentStatus', 'Pending');\n      order.setProperty('accID', userData);\n      order.setProperty('artworkPaymentAmount', this.state.totalPrice);\n      addOrder();\n    };\n\n    this.selectedCheck = data => {\n      this.setState({\n        selectedCheck: data\n      });\n    };\n  }\n\n  render() {\n    let {\n      startingStore: {\n        listOfUserCart\n      }\n    } = this.props;\n    let totalPrice = listOfUserCart.reduce((total, item) => total + parseFloat(item.artworkPaymentAmount), 0);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"btnmodal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(MDBBtn, {\n      disabled: !this.props.disable,\n      onClick: () => {\n        this.toggle();\n        this.addTocart();\n      },\n      color: \"yellow\",\n      size: \"md\",\n      style: {\n        borderRadius: '50px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    }, \"Add to Cart\"), /*#__PURE__*/React.createElement(MDBModal, {\n      isOpen: this.state.modal1,\n      toggle: () => {\n        this.toggle();\n      },\n      size: \"lg\",\n      centered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MDBModalHeader, {\n      toggle: () => {\n        this.toggle();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, \"Cart\")), /*#__PURE__*/React.createElement(MDBModalBody, {\n      className: \"cartord\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Cart, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default withRouter(inject('startingStore')(observer(AddToBag)));","map":{"version":3,"sources":["C:/Users/alqui/Desktop/Art Basically AWS/artfrontend/src/components/AddToBag.js"],"names":["MDBBtn","MDBModal","MDBModalBody","MDBModalHeader","inject","observer","React","Component","withRouter","Cart","notify","moment","AddToBag","state","modal1","selected","selectedCheckBox","toggle","nr","modalNumber","setState","addTocart","startingStore","cart","addToCart","props","userData","JSON","parse","sessionStorage","getItem","setProperty","cartData","artistName","artName","artworkImg","artPrice","parseFloat","artworkQuantity","accID","format","selectedValue","index","checked","item","push","selectedArray","selectedCheck","deleteItem","editToCart","addOrder","order","getHash","input","hash","len","length","i","charCodeAt","date","Date","getFullYear","Math","floor","random","totalPrice","data","render","listOfUserCart","reduce","total","artworkPaymentAmount","disable","borderRadius"],"mappings":"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","sourcesContent":["import {MDBBtn, MDBModal, MDBModalBody, MDBModalHeader} from 'mdbreact';\r\nimport {inject, observer} from 'mobx-react';\r\nimport React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport Cart from './Cart';\r\nimport notify from '../components/Notif';\r\nimport moment from 'moment'\r\nclass AddToBag extends Component {\r\n  state = {\r\n    modal1: false,\r\n    selected: [],\r\n    selectedCheckBox: [],\r\n  };\r\n\r\n  toggle = () => {\r\n    let nr = 1;\r\n    let modalNumber = 'modal' + nr;\r\n    this.setState({\r\n      [modalNumber]: !this.state[modalNumber],\r\n    });\r\n  };\r\n\r\n  addTocart = () => {\r\n    let {\r\n      startingStore: {cart, addToCart},\r\n    } = this.props;\r\n    let userData = JSON.parse(sessionStorage.getItem('userData'));\r\n   \r\n\r\n    cart.setProperty('artistName', this.props.cartData.artistName);\r\n    cart.setProperty('artworkName', this.props.cartData.artName);\r\n    cart.setProperty('artworkImg', this.props.cartData.artworkImg);\r\n    cart.setProperty('artworkPrice', this.props.cartData.artPrice);\r\n    cart.setProperty(\r\n      'artworkPaymentAmount',\r\n      parseFloat(this.props.cartData.artPrice) *\r\n        parseFloat(cart.artworkQuantity)\r\n    );\r\n    cart.setProperty('accID', userData.accID);\r\n    cart.setProperty('dateOfTransaction', moment().format('MMM/DD/YYYY'))\r\n    if (cart.artworkQuantity !== '' || cart.artworkQuantity !== null) {\r\n      notify('success', 'Artwork added successfully');\r\n      addToCart();\r\n    } else {\r\n      notify('error', 'Unsuccessful adding artwork');\r\n      // ari di butang ang alert!!!!!!!!!!!!!!!!!!!!!!\r\n    }\r\n  };\r\n\r\n  selectedValue = (index, checked, item) => {\r\n    if (checked === true) {\r\n      this.state.selected.push(item);\r\n      this.state.selectedCheckBox.push(index);\r\n    } else {\r\n      let selectedArray = [];\r\n      let selectedCheck = [];\r\n\r\n      // let data = this.state.selected.filter((data, indexer) => {\r\n      // \tif (indexer !== index) {\r\n      // \t\tselectedArray.push(data);\r\n      // \t}\r\n      // });\r\n\r\n      // let indexes = this.state.selectedCheckBox.filter((data, indexer) => {\r\n      // \tif (indexer !== index) {\r\n      // \t\tselectedCheck.push(data);\r\n      // \t}\r\n      // });\r\n\r\n      this.setState({\r\n        selected: selectedArray,\r\n        selectedCheckBox: selectedCheck,\r\n      });\r\n    }\r\n  };\r\n\r\n  deleteItem = (item) => {\r\n    let {\r\n      startingStore: {editToCart},\r\n    } = this.props;\r\n\r\n    editToCart(item);\r\n  };\r\n\r\n  addOrder = () => {\r\n    let {\r\n      startingStore: {order, addOrder},\r\n    } = this.props;\r\n    let userData = JSON.parse(sessionStorage.getItem('userData'));\r\n   \r\n\r\n    \r\n    function getHash(input){\r\n      var hash = 0, len = input.length;\r\n      for (var i = 0; i < len; i++) {\r\n        hash  = ((hash << 5) - hash) + input.charCodeAt(i);\r\n        hash |= 0; // to 32bit integer\r\n      }\r\n    \r\n            \r\n      return hash;\r\n    }\r\n    let date = new Date();\r\n\r\n    order.setProperty(\r\n      'orderID',\r\n      `${getHash(date.getFullYear())}-${Math.floor(1000 + Math.random() * 9000)}`\r\n    );\r\n    order.setProperty('modeOfPayment', 'COD');\r\n    order.setProperty('orderDate', moment().format('MMM/DD/YYYY'));\r\n    order.setProperty('orderItems', this.state.selected);\r\n    order.setProperty('orderStatus', 'Pending');\r\n    order.setProperty('paymentStatus', 'Pending');\r\n    order.setProperty('accID', userData);\r\n    order.setProperty('artworkPaymentAmount',this.state.totalPrice)\r\n    addOrder();\r\n  };\r\n\r\n  selectedCheck = (data) => {\r\n    this.setState({\r\n      selectedCheck: data,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      startingStore: {listOfUserCart},\r\n    } = this.props;\r\n\r\n    let totalPrice = listOfUserCart.reduce(\r\n      (total, item) => total + parseFloat(item.artworkPaymentAmount),\r\n      0\r\n    );\r\n\r\n    return (\r\n      <div className='btnmodal'>\r\n        <MDBBtn\r\n          disabled={!this.props.disable}\r\n          onClick={() => {\r\n            this.toggle();\r\n            this.addTocart();\r\n          }}\r\n          color='yellow'\r\n          size='md'\r\n          style={{borderRadius: '50px'}}\r\n        >\r\n          Add to Cart\r\n        </MDBBtn>\r\n        <MDBModal\r\n          isOpen={this.state.modal1}\r\n          toggle={() => {\r\n            this.toggle();\r\n          }}\r\n          size='lg'\r\n          centered\r\n        >\r\n          <MDBModalHeader\r\n            toggle={() => {\r\n              this.toggle();\r\n            }}\r\n          >\r\n            <h3>Cart</h3>\r\n          </MDBModalHeader>\r\n          <MDBModalBody className='cartord'>\r\n            <Cart />\r\n          </MDBModalBody>\r\n        </MDBModal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(inject('startingStore')(observer(AddToBag)));\r\n"]},"metadata":{},"sourceType":"module"}