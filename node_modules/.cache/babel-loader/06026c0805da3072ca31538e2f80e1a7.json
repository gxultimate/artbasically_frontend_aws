{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alqui\\\\Desktop\\\\Art Basically AWS\\\\artfrontend\\\\src\\\\components\\\\Cart.js\";\nimport { MDBBtn, MDBCol, MDBIcon, MDBInput, MDBRow } from 'mdbreact';\nimport { inject, observer } from 'mobx-react';\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport notif from './Notif';\nimport moment from 'moment';\n\nclass OrderTab extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selected: [],\n      selectedCheckBox: [],\n      totalPrice: 0\n    };\n\n    this.setStatus = status => {\n      this.setState({\n        status: status\n      });\n    };\n\n    this.selectedValue = (index, checked, item) => {\n      if (checked === true) {\n        let total = parseFloat(this.state.totalPrice) + parseFloat(item.artworkPaymentAmount);\n        this.setState({\n          totalPrice: total\n        });\n        this.state.selected.push(item);\n        this.state.selectedCheckBox.push(index);\n      } else {\n        let selectedArray = [];\n        let selectedCheck = [];\n        let data = this.state.selected.filter(indexer => {\n          if (indexer !== index) {\n            selectedArray.push(data);\n          }\n        });\n        let total = parseFloat(this.state.totalPrice) - parseFloat(item.artworkPaymentAmount);\n        this.setState({\n          selected: selectedArray,\n          selectedCheckBox: selectedCheck,\n          totalPrice: total <= 0 ? 0 : total\n        });\n      }\n    };\n\n    this.deleteItem = item => {\n      let {\n        startingStore: {\n          editToCart\n        }\n      } = this.props;\n      editToCart(item);\n    };\n\n    this.addOrder = () => {\n      function getHash(input) {\n        var hash = 0,\n            len = input.length;\n\n        for (var i = 0; i < len; i++) {\n          hash = (hash << 5) - hash + input.charCodeAt(i);\n          hash |= 0; // to 32bit integer\n        }\n\n        return hash;\n      }\n\n      let date = new Date();\n      let {\n        startingStore: {\n          order,\n          addOrder,\n          editToCart\n        }\n      } = this.props;\n      let userData = JSON.parse(sessionStorage.getItem('userData'));\n      order.setProperty('orderID', `${moment().format('YY')}-${Math.floor(100 + Math.random() * 900)}`);\n      order.setProperty('modeOfPayment', 'COD');\n      order.setProperty('orderDate', moment().format('MMM/DD/YYYY'));\n      order.setProperty('orderItems', this.state.selected);\n      order.setProperty('orderStatus', 'Pending');\n      order.setProperty('paymentStatus', 'Pending');\n      order.setProperty('accID', userData);\n      order.setProperty('artworkPaymentAmount', this.state.totalPrice);\n      addOrder();\n\n      if (this.state.selected.length > 1) {\n        this.state.selected.map(item => {\n          editToCart(item);\n          notif('success', 'Checkout Successfully');\n          setTimeout(() => {\n            this.props.history.push('/Order');\n          }, 1000);\n        });\n      } else {\n        editToCart(this.state.selected[0]);\n        notif('success', 'Checkout Successfully');\n        setTimeout(() => {\n          this.props.history.push('/Order');\n        }, 1000);\n      }\n    };\n\n    this.selectedCheck = data => {\n      this.setState({\n        selectedCheck: data\n      });\n    };\n  }\n\n  componentDidMount() {\n    let {\n      startingStore: {\n        getOrders\n      }\n    } = this.props;\n    getOrders();\n  }\n\n  render() {\n    let {\n      startingStore: {\n        listOfOrder,\n        listOfUserCart\n      }\n    } = this.props;\n    let totalPrice = listOfUserCart.reduce((total, item) => total + parseFloat(item.artworkPaymentAmount), 0);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ordercon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"needs-validation animated zoomIn\",\n      onSubmit: this.submitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cartord\",\n      style: {\n        border: '1px solid #C8C8C8',\n        marginTop: '16px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    }, listOfUserCart.map((item, indexes) => {\n      if (listOfUserCart.length > 0) {\n        return /*#__PURE__*/React.createElement(MDBRow, {\n          className: \"artlistorder\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(MDBCol, {\n          md: \"1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 21\n          }\n        }, item.artworkQuantity !== '' ? /*#__PURE__*/React.createElement(MDBInput, {\n          onChange: data => {\n            this.selectedValue(indexes, data.target.checked, item);\n          },\n          type: \"checkbox\",\n          id: \"checkbox1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }\n        }) : ''), /*#__PURE__*/React.createElement(MDBCol, {\n          md: \"2\",\n          className: \"artimg colpad\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 21\n          }\n        }, item.artworkImg !== '' ? /*#__PURE__*/React.createElement(\"img\", {\n          src: item.artworkImg,\n          alt: \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }\n        }) : ''), /*#__PURE__*/React.createElement(MDBCol, {\n          md: \"4\",\n          className: \"artdet colpad\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#!\",\n          onClick: () => {\n            this.props.history.push({\n              pathname: `/Artist/${item.accFname} ${item.accLname}`,\n              state: {\n                artistName: `${item.accFname} ${item.accLname}`,\n                accImg: this.state.artistImg,\n                artistDescription: this.state.accDescription,\n                birthYear: this.state.birthYear,\n                accFollowers: this.state.accFollowers\n              }\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 23\n          }\n        }, item.artistName, \" \", /*#__PURE__*/React.createElement(MDBIcon, {\n          icon: \"arrow-right\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 43\n          }\n        })), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 23\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 23\n          }\n        }, \"\\\"\", item.artworkName, \"\\\"\"), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 23\n          }\n        }, \"Variations: \", item.artworkMaterial, \", \", item.artworkSize, \",\", item.artworkFramingOptions), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 23\n          }\n        }, \"\\u20B1\", item.artworkPrice ? Number(parseFloat(item.artworkPrice)).toLocaleString('en') : '')), /*#__PURE__*/React.createElement(MDBCol, {\n          md: \"1\",\n          className: \"quan colpad\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 21\n          }\n        }, item.artworkQuantity !== '' ? `x${item.artworkQuantity}` : ''), /*#__PURE__*/React.createElement(MDBCol, {\n          md: \"3\",\n          className: \"colpad\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(MDBRow, {\n          className: \"sub\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(MDBCol, {\n          md: \"6\",\n          className: \"colpad2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 25\n          }\n        }, \"Subtotal\"), /*#__PURE__*/React.createElement(MDBCol, {\n          md: \"6\",\n          className: \"colpad2\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 25\n          }\n        }, \"\\u20B1\", item.artworkPaymentAmount ? Number(parseFloat(item.artworkPaymentAmount)).toLocaleString('en') : ''))), /*#__PURE__*/React.createElement(MDBCol, {\n          md: \"1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 21\n          }\n        }, item.artworkQuantity !== '' ? /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#!\",\n          onClick: () => {\n            this.deleteItem(item);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(MDBIcon, {\n          icon: \"trash\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 27\n          }\n        })) : ''));\n      } else {\n        return 'Cart is Empty';\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"acts clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(MDBRow, {\n      className: \"actsrowcart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"5\",\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }, \"TOTAL\"), /*#__PURE__*/React.createElement(MDBCol, {\n      md: \"7\",\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }\n    }, \"\\u20B1\", this.state.totalPrice > 0 ? Number(parseFloat(this.state.totalPrice)).toLocaleString('en') : Number(parseFloat(0)).toLocaleString('en')), /*#__PURE__*/React.createElement(MDBCol, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"actsbtn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(MDBBtn, {\n      color: \"#fae933\",\n      size: \"sm\",\n      className: \"recieve\",\n      disabled: this.state.totalPrice > 0 ? false : true,\n      onClick: () => {\n        this.addOrder();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, \"Checkouts\"))))))));\n  }\n\n}\n\nexport default withRouter(inject('startingStore')(observer(OrderTab)));","map":{"version":3,"sources":["C:/Users/alqui/Desktop/Art Basically AWS/artfrontend/src/components/Cart.js"],"names":["MDBBtn","MDBCol","MDBIcon","MDBInput","MDBRow","inject","observer","React","Component","withRouter","notif","moment","OrderTab","state","selected","selectedCheckBox","totalPrice","setStatus","status","setState","selectedValue","index","checked","item","total","parseFloat","artworkPaymentAmount","push","selectedArray","selectedCheck","data","filter","indexer","deleteItem","startingStore","editToCart","props","addOrder","getHash","input","hash","len","length","i","charCodeAt","date","Date","order","userData","JSON","parse","sessionStorage","getItem","setProperty","format","Math","floor","random","map","setTimeout","history","componentDidMount","getOrders","render","listOfOrder","listOfUserCart","reduce","submitHandler","border","marginTop","indexes","artworkQuantity","target","artworkImg","pathname","accFname","accLname","artistName","accImg","artistImg","artistDescription","accDescription","birthYear","accFollowers","artworkName","artworkMaterial","artworkSize","artworkFramingOptions","artworkPrice","Number","toLocaleString"],"mappings":"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","sourcesContent":["import {MDBBtn, MDBCol, MDBIcon, MDBInput, MDBRow} from 'mdbreact';\r\nimport {inject, observer} from 'mobx-react';\r\nimport React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport notif from './Notif';\r\nimport moment from 'moment'\r\n\r\nclass OrderTab extends Component {\r\n  state = {\r\n    selected: [],\r\n    selectedCheckBox: [],\r\n    totalPrice: 0,\r\n  };\r\n\r\n  componentDidMount() {\r\n    let {\r\n      startingStore: {getOrders},\r\n    } = this.props;\r\n    getOrders();\r\n  }\r\n\r\n  setStatus = (status) => {\r\n    this.setState({status: status});\r\n  };\r\n\r\n  selectedValue = (index, checked, item) => {\r\n    if (checked === true) {\r\n      let total =\r\n        parseFloat(this.state.totalPrice) +\r\n        parseFloat(item.artworkPaymentAmount);\r\n      this.setState({\r\n        totalPrice: total,\r\n      });\r\n\r\n      this.state.selected.push(item);\r\n      this.state.selectedCheckBox.push(index);\r\n    } else {\r\n      let selectedArray = [];\r\n      let selectedCheck = [];\r\n\r\n      let data = this.state.selected.filter((indexer) => {\r\n        if (indexer !== index) {\r\n          selectedArray.push(data);\r\n        }\r\n      });\r\n      let total =\r\n        parseFloat(this.state.totalPrice) -\r\n        parseFloat(item.artworkPaymentAmount);\r\n      this.setState({\r\n        selected: selectedArray,\r\n        selectedCheckBox: selectedCheck,\r\n        totalPrice: total <= 0 ? 0 : total,\r\n      });\r\n    }\r\n  };\r\n\r\n  deleteItem = (item) => {\r\n    let {\r\n      startingStore: {editToCart},\r\n    } = this.props;\r\n\r\n    editToCart(item);\r\n  };\r\n\r\n  addOrder = () => {\r\n\r\n    function getHash(input){\r\n      var hash = 0, len = input.length;\r\n      for (var i = 0; i < len; i++) {\r\n        hash  = ((hash << 5) - hash) + input.charCodeAt(i);\r\n        hash |= 0; // to 32bit integer\r\n      }\r\n    \r\n            \r\n      return hash;\r\n    }\r\n    let date = new Date();\r\n\r\n    let {\r\n      startingStore: {order, addOrder, editToCart},\r\n    } = this.props;\r\n    let userData = JSON.parse(sessionStorage.getItem('userData'));\r\n    \r\n    order.setProperty('orderID',`${moment().format('YY')}-${ Math.floor(100 + Math.random() * 900)}`)\r\n    order.setProperty('modeOfPayment', 'COD');\r\n    order.setProperty('orderDate', moment().format('MMM/DD/YYYY'));\r\n    order.setProperty('orderItems', this.state.selected);\r\n    order.setProperty('orderStatus', 'Pending');\r\n    order.setProperty('paymentStatus', 'Pending');\r\n    order.setProperty('accID', userData);\r\n    order.setProperty('artworkPaymentAmount',this.state.totalPrice)\r\n    addOrder();\r\n    if (this.state.selected.length > 1) {\r\n      this.state.selected.map((item) => {\r\n        editToCart(item);\r\n     \r\n        notif('success', 'Checkout Successfully');\r\n     \r\n           setTimeout(() => {\r\n        this.props.history.push('/Order')\r\n           }, 1000);\r\n      });\r\n    } else {\r\n      editToCart(this.state.selected[0]);\r\n\r\n      notif('success', 'Checkout Successfully');\r\n\r\n      setTimeout(() => {\r\n        this.props.history.push('/Order')\r\n           }, 1000);\r\n    }\r\n  };\r\n\r\n  selectedCheck = (data) => {\r\n    this.setState({\r\n      selectedCheck: data,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      startingStore: {listOfOrder, listOfUserCart},\r\n    } = this.props;\r\n    let totalPrice = listOfUserCart.reduce(\r\n      (total, item) => total + parseFloat(item.artworkPaymentAmount),\r\n      0\r\n    );\r\n\r\n    return (\r\n      <div className='ordercon'>\r\n        <form\r\n          className='needs-validation animated zoomIn'\r\n          onSubmit={this.submitHandler}\r\n        >\r\n          <div className='cartord' style={{border:'1px solid #C8C8C8',marginTop:'16px'}}>\r\n            {listOfUserCart.map((item, indexes) => {\r\n              if (listOfUserCart.length > 0) {\r\n                return (\r\n                  <MDBRow className='artlistorder' >\r\n                    <MDBCol md='1' >\r\n                      {item.artworkQuantity !== '' ? (\r\n                        <MDBInput\r\n                          onChange={(data) => {\r\n                            this.selectedValue(\r\n                              indexes,\r\n                              data.target.checked,\r\n                              item\r\n                            );\r\n                          }}\r\n                          type='checkbox'\r\n                          id='checkbox1'\r\n                        />\r\n                      ) : (\r\n                        ''\r\n                      )}\r\n                    </MDBCol>\r\n                    <MDBCol md='2' className='artimg colpad'>\r\n                      {item.artworkImg !== '' ? (\r\n                        <img src={item.artworkImg} alt='' />\r\n                      ) : (\r\n                        ''\r\n                      )}\r\n                    </MDBCol>\r\n                    <MDBCol md='4' className='artdet colpad'>\r\n                      <a\r\n                        href='#!'\r\n                        onClick={() => {\r\n                          this.props.history.push({\r\n                            pathname: `/Artist/${item.accFname} ${item.accLname}`,\r\n                            state: {\r\n                              artistName: `${item.accFname} ${item.accLname}`,\r\n                              accImg: this.state.artistImg,\r\n                              artistDescription: this.state.accDescription,\r\n                              birthYear: this.state.birthYear,\r\n                              accFollowers: this.state.accFollowers,\r\n                            },\r\n                          });\r\n                        }}\r\n                      >\r\n                        {item.artistName} <MDBIcon icon='arrow-right' />\r\n                      </a>\r\n                      <br />\r\n                      <p>\"{item.artworkName}\"</p>\r\n                      <p>\r\n                        Variations: {item.artworkMaterial}, {item.artworkSize},\r\n                        {item.artworkFramingOptions}\r\n                      </p>\r\n                      <p>\r\n                        &#8369;\r\n                        {item.artworkPrice\r\n                          ? Number(\r\n                              parseFloat(item.artworkPrice)\r\n                            ).toLocaleString('en')\r\n                          : ''}\r\n                      </p>\r\n                    </MDBCol>\r\n                    <MDBCol md='1' className='quan colpad'>\r\n                      {item.artworkQuantity !== ''\r\n                        ? `x${item.artworkQuantity}`\r\n                        : ''}\r\n                    </MDBCol>\r\n                    <MDBCol md='3' className='colpad'>\r\n                      <MDBRow className='sub'>\r\n                        <MDBCol md='6' className='colpad2'>\r\n                          Subtotal\r\n                        </MDBCol>\r\n                        <MDBCol md='6' className='colpad2'>\r\n                          &#8369;\r\n                          {item.artworkPaymentAmount\r\n                            ? Number(\r\n                                parseFloat(item.artworkPaymentAmount)\r\n                              ).toLocaleString('en')\r\n                            : ''}\r\n                        </MDBCol>\r\n                      </MDBRow>\r\n                    </MDBCol>\r\n                    <MDBCol md='1'>\r\n                      {item.artworkQuantity !== '' ? (\r\n                        <a\r\n                          href='#!'\r\n                          onClick={() => {\r\n                            this.deleteItem(item);\r\n                          }}\r\n                        >\r\n                          <MDBIcon icon='trash' />\r\n                        </a>\r\n                      ) : (\r\n                        ''\r\n                      )}\r\n                    </MDBCol>\r\n                  </MDBRow>\r\n                );\r\n              } else {\r\n                return 'Cart is Empty';\r\n              }\r\n            })}\r\n\r\n            <div className='acts clearfix'>\r\n              {/* <MDBRow>\r\n\t\t\t\t\t\t\t\t\t<MDBCol md=\"6\" className=\"colpad2\">Shipping Fee</MDBCol>\r\n\t\t\t\t\t\t\t\t\t<MDBCol md=\"6\" className=\"colpad2\">\r\n\t\t\t\t\t\t\t\t\t\t&#8369; 500\r\n\t\t\t\t\t\t\t\t\t</MDBCol>\r\n\t\t\t\t\t\t\t\t</MDBRow> */}\r\n              <MDBRow className='actsrowcart'>\r\n                <MDBCol md='5' className='total'>\r\n                  TOTAL\r\n                </MDBCol>\r\n                <MDBCol md='7' className='total'>\r\n                  &#8369;\r\n                  {this.state.totalPrice > 0\r\n                    ? Number(parseFloat(this.state.totalPrice)).toLocaleString(\r\n                        'en'\r\n                      )\r\n                    : Number(parseFloat(0)).toLocaleString('en')}\r\n                </MDBCol>\r\n                <MDBCol>\r\n                  <div className='actsbtn'>\r\n                    <MDBBtn\r\n                      color='#fae933'\r\n                      size='sm'\r\n                      className='recieve'\r\n                      disabled={this.state.totalPrice > 0 ? false : true}\r\n                      onClick={() => {\r\n                        this.addOrder();\r\n                      }}\r\n                    >\r\n                      Checkouts\r\n                    </MDBBtn>\r\n                  </div>\r\n                </MDBCol>\r\n              </MDBRow>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(inject('startingStore')(observer(OrderTab)));\r\n"]},"metadata":{},"sourceType":"module"}